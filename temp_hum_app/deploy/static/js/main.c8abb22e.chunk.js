(this.webpackJsonptemp_hum_app=this.webpackJsonptemp_hum_app||[]).push([[0],{20:function(e,t,a){e.exports=a(46)},25:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),o=(a(25),a(15)),m=a(16),l=a(19),s=a(18),d=a(3),u=a.n(d),h=a(17),g=a.n(h),p="https://temp-hum-esp8266.herokuapp.com",E=(a(45),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={wantedTemperature:"25.00",wantedHumidity:"50.00",temperature:"25.00",humidity:"50.00",wantedGroundTemperature:"10.00",wantedGroundHumidity:"15.00",groundHumidity:"13.00",doorState:2,waterState:1,changeDoor:2,changeWater:1,recommendedDoorState:2,recommendedWaterState:1,autoMode:0,changeWantedTemperature:"25.00",changeWantedHumidity:"50.00",changeWantedGroundHumidity:"15.00",changeAutoMode:0},e.getData=function(t){u.a.get(p+"/get-data").then((function(a){e.setState({temperature:a.data.tmp,humidity:a.data.hum,wantedTemperature:a.data.wntTmp,wantedHumidity:a.data.wntHum,groundHumidity:a.data.gHum,wantedGroundHumidity:a.data.wntGHum,doorState:parseInt(a.data.act/10),waterState:a.data.act%10,recommendedDoorState:parseInt(a.data.reccAct/10),recommendedWaterState:a.data.reccAct%10,autoMode:a.data.aut}),t&&e.setState({changeWantedHumidity:a.data.wntHum,changeWantedTemperature:a.data.wntTmp,changeWantedGroundHumidity:a.data.wntGHum,changeAutoMode:a.data.aut,changeWater:a.data.act%10,changeDoor:parseInt(a.data.act/10)})})).catch((function(e){console.log("ERROR",e)}))},e.mapAction=function(e,t){if(0==e&&0==t)return"All ok.";var a="";return 1==t?a+="Ground too humid. ":2==t&&(a+="Ground too dry. "),1==e?a+="Air temperature and humidity too high.":2==e&&(a+="Air temperature and humidity too low."),a},e.mapReccAction=function(e,t,a,n){if(0==e&&0==t)return"No action necessary.";var r="";return 1==t?(r+="Should close the valve. ",1==n&&(r+="(Done) ")):2==t&&(r+="Should open the valve. ",2==n&&(r+="(Done) ")),1==e?(r+="Should open the door.",1==a&&(r+="(Done) ")):2==e&&(r+="Should close the door.",2==a&&(r+="(Done) ")),r},e.mapAutoMode=function(e){return 0==e?r.a.createElement("div",{style:{color:"#FB3D13"}},"OFF"):1==e?r.a.createElement("div",{style:{color:"#4CFB13"}},"ON"):r.a.createElement("div",{style:{color:"#FB3D13"}},"UNDETERMINED")},e.sendData=function(){var t=e.state.changeWantedTemperature,a=e.state.changeWantedHumidity,n=e.state.changeWantedGroundHumidity,r=e.state.changeAutoMode,c=10*parseInt(e.state.changeDoor)+parseInt(e.state.changeWater),i=g.a.stringify({wntTmp:t,wntHum:a,act:c,aut:r,wntGHum:n});u.a.post(p+"/settings",i).catch((function(e){console.log("POST ERROR",e)}))},e.handleTempChange=function(t){e.setState({changeWantedTemperature:t.target.value>100?100:t.target.value<0?0:t.target.value})},e.handleHumChange=function(t){e.setState({changeWantedHumidity:t.target.value>100?100:t.target.value<0?0:t.target.value})},e.handleGroundHumChange=function(t){e.setState({changeWantedGroundHumidity:t.target.value>100?100:t.target.value<0?0:t.target.value})},e.handleAutChange=function(t){e.setState({changeAutoMode:t.target.checked?1:0})},e.handleDoorChange=function(t){e.setState({changeDoor:t.target.value})},e.handleWaterChange=function(t){e.setState({changeWater:t.target.value})},e.parseStyle=function(e,t,a,n){return e=parseInt(e),t=parseInt(t),a=parseInt(a),n=parseInt(n),e-t<a?{color:"#339EFF"}:e-t>n?{color:"#FB3D13"}:{color:"#4CFB13"}},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getData(!0);setInterval((function(){e.getData(!1)}),5e3)}},{key:"render",value:function(){return r.a.createElement("div",{className:"main_wrapper"},r.a.createElement("header",null,"Loshmey's temperature and humidity project"),r.a.createElement("div",{className:"main_body"},r.a.createElement("div",{className:"data_wrapper"},r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"temperature_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"AIR TEMPERATURE:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text",style:this.parseStyle(this.state.temperature,this.state.wantedTemperature,-3,3)},this.state.temperature,"no_data"==this.state.temperature?null:"\u2103"))),r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"humidity_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"AIR HUMIDITY:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text",style:this.parseStyle(this.state.humidity,this.state.wantedHumidity,-3,3)},this.state.humidity,"no_data"==this.state.humidity?null:"%"))),r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"soil_icon.jpg",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"GROUND HUMIDITY:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text",style:this.parseStyle(this.state.groundHumidity,this.state.wantedGroundHumidity,-3,3)},this.state.groundHumidity,"no_data"==this.state.groundHumidity?null:"%"))),r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"state_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"STATE:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text"},this.mapAction(this.state.recommendedDoorState,this.state.recommendedWaterState)))),r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"brain_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"RECOMMENDED STATE:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text"},this.mapReccAction(this.state.recommendedDoorState,this.state.recommendedWaterState,this.state.doorState,this.state.waterState))))),r.a.createElement("div",{className:"data_wrapper"},r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"temperature_gauge_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"WANTED AIR TEMPERATURE:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text"},this.state.wantedTemperature,"\u2103"))),r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"humidity_gauge_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"WANTED AIR HUMIDITY:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text"},this.state.wantedHumidity,"%"))),r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"soil_humidity_gauge_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"WANTED GROUND HUMIDITY:",r.a.createElement("br",null),r.a.createElement("div",{className:"data_text"},this.state.wantedGroundHumidity,"%"))),r.a.createElement("div",{className:"data_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:"robot_icon.png",className:"img-fluid"})),r.a.createElement("div",{className:"data_text_container"},"AUTOMATIC MODE:",r.a.createElement("br",null),this.mapAutoMode(this.state.autoMode)))),r.a.createElement("form",{className:"form_wrapper"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputTemperature"},"Change wanted air temperature (\u2103)"),r.a.createElement("input",{onChange:this.handleTempChange,type:"number",min:"0",max:"100",step:"1",className:"form-control",id:"inputTemperature",placeholder:"Enter air temperature",value:this.state.changeWantedTemperature})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputHumidity"},"Change wanted air humidity (%)"),r.a.createElement("input",{onChange:this.handleHumChange,type:"number",min:"0",max:"100",step:"1",className:"form-control",id:"inputHumidity",placeholder:"Enter air humidity",value:this.state.changeWantedHumidity})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputGroundHumidity"},"Change wanted ground humidity (%)"),r.a.createElement("input",{onChange:this.handleGroundHumChange,type:"number",min:"0",max:"100",step:"1",className:"form-control",id:"inputGroundHumidity",placeholder:"Enter ground humidity",value:this.state.changeWantedGroundHumidity})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectDoor"},"Door control"),r.a.createElement("select",{onChange:this.handleDoorChange,disabled:1==this.state.changeAutoMode,value:this.state.changeDoor,className:"form-control",id:"selectDoor"},r.a.createElement("option",{value:"1"},"Open door"),r.a.createElement("option",{value:"2"},"Close door"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectWater"},"Water control"),r.a.createElement("select",{onChange:this.handleWaterChange,disabled:1==this.state.changeAutoMode,value:this.state.changeWater,className:"form-control",id:"selectWater"},r.a.createElement("option",{value:"2"},"Open valve"),r.a.createElement("option",{value:"1"},"Close valve"))),r.a.createElement("div",{style:{paddingBottom:"5%"},className:"custom-control custom-switch"},r.a.createElement("input",{onClick:this.handleAutChange,"data-toggle":"toggle",className:"custom-control-input",checked:1==this.state.changeAutoMode,type:"checkbox",id:"autoModeCheck",value:this.state.changeAutoMode}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"autoModeCheck"},"Automatic mode")),r.a.createElement("button",{onClick:this.sendData,type:"button",className:"btn btn-primary"},"Submit"))),r.a.createElement("footer",null,"Developed by YouFaceJaraxxus \xa9 ",(new Date).getFullYear().toString()))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.c8abb22e.chunk.js.map